apiVersion : v1
kind : Pod
metadata:
  name: frontend
spec:
  containers:
    - name: frontend
      image: tejaswinidockerhub/frontend
---
apiVersion : v1
kind : Pod
metadata:
  name: catalogue
spec:
  initContainers:
    - name: paramters-pull
      image: docker.io/tejaswinidockerhub/init-container-parameters-image
      imagePullPolicy: Always
      volumeMounts:
        - mountPath: /parameters
          name: parameters
      env:
        - name: PARAMS
          value: "dev.roboshop.docdb.endpoint,DOCDB_ENDPOINT dev.roboshop.docdb.username,DOCDB_USER dev.roboshop.docdb.password,DOCDB_PASSWORD"
  containers:
    - name: catalogue
      image: tejaswinidockerhub/catalogue
      imagePullPolicy: Always
      volumeMounts:
        - mountPath: /parameters
          name: parameters
  volumes:
    - name: parameters
      emptyDir: { }

---
apiVersion : v1
kind : Pod
metadata:
  name: user
spec:
  containers:
    - name: user
      image: tejaswinidockerhub/user
---
apiVersion : v1
kind : Pod
metadata:
  name: cart
spec:
  containers:
    - name: cart
      image: tejaswinidockerhub/cart
---
apiVersion : v1
kind : Pod
metadata:
  name: payment
spec:
  containers:
    - name: payment
      image: tejaswinidockerhub/payment
---
apiVersion : v1
kind : Pod
metadata:
  name: shipping
spec:
  containers:
    - name: shipping
      image: tejaswinidockerhub/shipping
---
apiVersion : v1
kind : Pod
metadata:
  name: dispatch
spec:
  containers:
    - name: dispatch
      image: tejaswinidockerhub/dispatch

